###########################################################################################
#
# SWITCH CONTROL FOR BALCONY
#
###########################################################################################

- alias: "Switch - Meek Dressoir"
  trigger:

    platform: state
    entity_id: switch.meek_dressoir

  action:
    service: light.turn_on
    data_template:
      entity_id: light.dressoir_all
      brightness_pct: >-
        {% if (states.switch.meek_dressoir.state) == 'on' and (states.binary_sensor.node_21.state) == 'on' and (states.switch.mqtt_scene_goodnight.state) == 'off' %} 20
        {% elif (states.switch.meek_dressoir.state) == 'on' and (states.binary_sensor.node_21.state) == 'off' and (states.switch.mqtt_scene_goodnight.state) == 'off' %} 100
        {% elif (states.switch.meek_dressoir.state) == 'on' and (states.binary_sensor.node_21.state) == 'off' and (states.switch.mqtt_scene_goodnight.state) == 'on' %} 20
        {% elif (states.switch.meek_dressoir.state) == 'on' and (states.binary_sensor.node_21.state) == 'on' and (states.switch.mqtt_scene_goodnight.state) == 'on' %} 20
        {% else %} 0
        {% endif %}
