platform: template
sensors:
  harmony:
    friendly_name: "Harmony Status"
    value_template: >
      {% if states.remote.logitech_harmony.attributes.current_activity == "PowerOff" %}         
        Off
      {% elif states.remote.logitech_harmony.attributes.current_activity == "AppleTV" %}
        Apple TV
      {% elif states.remote.logitech_harmony.attributes.current_activity == "Ziggo" %}
        TV
      {% elif states.remote.logitech_harmony.attributes.current_activity == "AirPlay" %}
        Airplay
      {% elif states.remote.logitech_harmony.attributes.current_activity == "Kodi" %}
        Kodi
      {% elif states.remote.logitech_harmony.attributes.current_activity == "IPTV" %}
        IPTV
      {% elif states.remote.logitech_harmony.attributes.current_activity == "Domoticz" %}
        Domoticz
      {% endif %}

  period_of_day:
    friendly_name: 'Period of the Day'
    value_template: >-
      {% if (as_timestamp(states.sun.sun.attributes.next_dusk)) - (as_timestamp(states.sun.sun.attributes.next_setting)) < 0 %}
        Dusk
      {% elif (as_timestamp(states.sun.sun.attributes.next_rising)) - (as_timestamp(states.sun.sun.attributes.next_dawn)) < 0 %}
        Dawn
      {% elif (states.sun.sun.attributes.elevation) < 0 %}
        NightTime
      {% else %}
        DayTime
      {% endif %}
    icon_template: >-
      {% if is_state('sun.sun', 'above_horizon') %}
        mdi:weather-sunny
      {% else %}
        mdi:weather-night
      {% endif %}
