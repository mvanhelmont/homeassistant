---
###########################################################################################
#
# BINARY_SENSOR MQTT LWT CONNECTION STATUS
#
###########################################################################################

binary_sensor.itho_lwt:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.meek_bathroom_lwt:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.meek_bedroom_lwt:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.meek_dressoir_lwt:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.meek_hallway_lwt:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.meek_kitchen_lwt:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.meek_livingroom_lwt:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.meek_wc_lwt:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

###########################################################################################
#
# BINARY_SENSOR
#
# https://www.home-assistant.io/docs/configuration/customizing-devices/
#
###########################################################################################

binary_sensor.hp_printer:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.imac_peter:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.meek_p1_meter:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.dsmr:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.nextcloud:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.sensor_manual_family_home:
  friendly_name: "Group Family Manual"

binary_sensor.manual_peter_home:
  friendly_name: "Manual Peter Home Sensor"
  device_class: presence

binary_sensor.manual_kay_home:
  friendly_name: "Manual Kay Home Sensor"
  device_class: presence

binary_sensor.update_available:
  friendly_name: "Home Assistant Update Available"
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.snapshots_stale:
  icon: mdi:cloud-upload

binary_sensor.updater:
  friendly_name: "HA Updater"

binary_sensor.fibaro_frontdoor_custom_sensor:
  device_class: "door"
  templates:
    icon_color: if (state === 'on') return 'rgba(251,214,67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.fibaro_imac_custom_sensor:
  device_class: "door"
  templates:
    icon_color: if (state === 'on') return 'rgba(251,214,67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.neo_bedroomdoor_custom_sensor:
  device_class: "door"
  templates:
    icon_color: if (state === 'on') return 'rgba(251,214,67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.neo_diningroomdoor_custom_sensor:
  device_class: "door"
  templates:
    icon_color: if (state === 'on') return 'rgba(251,214,67,1)'; return 'rgba(71,116,157,1)';

###########################################################################################
#
# BINARY_SENSOR CLIMATE
#
###########################################################################################

binary_sensor.bedroom_nest_protect_online:
  friendly_name: "Nest Proect Bedroom"
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.dining_room_nest_protect_online:
  friendly_name: "Nest Proect Diningroom"
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.living_room_nest_protect_online:
  friendly_name: "Nest Protect Livingroom"
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.entryway_thermostat_has_leaf:
  friendly_name: "Nest Thermostat Leaf"
  icon: mdi:leaf

binary_sensor.entryway_thermostat_online:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';

binary_sensor.entryway_thermostat_is_locked:
  friendly_name: "Nest Thermostat locked"

binary_sensor.entryway_thermostat_is_using_emergency_heat:
  friendly_name: "Nest Thermostat emergency heat"

binary_sensor.entryway_thermostat_fan:
  friendly_name: "Nest Thermostat Fan"

binary_sensor.asingaborg_away:
  friendly_name: "Nest Thermostat away"

###########################################################################################
#
# BINARY_SENSOR MILIGHT
#
###########################################################################################

binary_sensor.milight_hub:
  templates:
    icon: if (state === 'on') return 'mdi:server-network'; return 'mdi:server-network-off';
    icon_color: if (state === 'on') return 'rgba(251, 214, 67,1)'; return 'rgba(71,116,157,1)';
